package com.alibaba.springboot;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.test.Attribute;
import com.test.Path;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import java.util.List;
import java.util.Map;

@RunWith(SpringRunner.class)
@SpringBootTest
public class Springboot04WebRestfulcrudApplicationTests {

    public Logger logger = LoggerFactory.getLogger(Springboot04WebRestfulcrudApplicationTests.class);

    @Test
    public void contextLoads() {
        String json = "{\n" +
                "  \"豫BBW513\": [\n" +
                "    {\n" +
                "      \"timestamp\": 1594692900000,\n" +
                "      \"cameraId\": \"330109179900420260\",\n" +
                "      \"pos_x\": 120.296640561339,\n" +
                "      \"pos_y\": 30.209458835417\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594692910000,\n" +
                "      \"cameraId\": \"330109179900420060\",\n" +
                "      \"pos_x\": 120.295514033549,\n" +
                "      \"pos_y\": 30.209635861212\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594692910000,\n" +
                "      \"cameraId\": \"330109179900420060\",\n" +
                "      \"pos_x\": 120.295514033549,\n" +
                "      \"pos_y\": 30.209635861212\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594693550000,\n" +
                "      \"cameraId\": \"330109179900325060\",\n" +
                "      \"pos_x\": 120.27381337642,\n" +
                "      \"pos_y\": 30.195287141802\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594697250000,\n" +
                "      \"cameraId\": \"330109179900324660\",\n" +
                "      \"pos_x\": 120.27392602919,\n" +
                "      \"pos_y\": 30.195292506218\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594697250000,\n" +
                "      \"cameraId\": \"330109179900325360\",\n" +
                "      \"pos_x\": 120.2739904022,\n" +
                "      \"pos_y\": 30.195281777382\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594697520000,\n" +
                "      \"cameraId\": \"330109179900370360\",\n" +
                "      \"pos_x\": 120.27547098157,\n" +
                "      \"pos_y\": 30.20789352417\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594697900000,\n" +
                "      \"cameraId\": \"330109179900420060\",\n" +
                "      \"pos_x\": 120.295514033549,\n" +
                "      \"pos_y\": 30.209635861212\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594697910000,\n" +
                "      \"cameraId\": \"330109179900420260\",\n" +
                "      \"pos_x\": 120.296640561339,\n" +
                "      \"pos_y\": 30.209458835417\n" +
                "    }\n" +
                "  ],\n" +
                "  \"浙A2B8P5\": [\n" +
                "    {\n" +
                "      \"timestamp\": 1594702590000,\n" +
                "      \"cameraId\": \"330109179900364460\",\n" +
                "      \"pos_x\": 120.28117508705,\n" +
                "      \"pos_y\": 30.1580626517789\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594702990000,\n" +
                "      \"cameraId\": \"330109179900292460\",\n" +
                "      \"pos_x\": 120.27357197758,\n" +
                "      \"pos_y\": 30.167343888289\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594702990000,\n" +
                "      \"cameraId\": \"330109179900292460\",\n" +
                "      \"pos_x\": 120.27357197758,\n" +
                "      \"pos_y\": 30.167343888289\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703710000,\n" +
                "      \"cameraId\": \"330109179900373660\",\n" +
                "      \"pos_x\": 120.23023284433,\n" +
                "      \"pos_y\": 30.167574558258\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703710000,\n" +
                "      \"cameraId\": \"330109179900373660\",\n" +
                "      \"pos_x\": 120.23023284433,\n" +
                "      \"pos_y\": 30.167574558258\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704760000,\n" +
                "      \"cameraId\": \"330133330109520016231452\",\n" +
                "      \"pos_x\": 120.231821270789,\n" +
                "      \"pos_y\": 30.067493351973\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704770000,\n" +
                "      \"cameraId\": \"330133330109520016231451\",\n" +
                "      \"pos_x\": 120.231821270789,\n" +
                "      \"pos_y\": 30.067496216202\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594709650000,\n" +
                "      \"cameraId\": \"330109179900428760\",\n" +
                "      \"pos_x\": 120.243727,\n" +
                "      \"pos_y\": 30.074552\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710050000,\n" +
                "      \"cameraId\": \"330109179900177460\",\n" +
                "      \"pos_x\": 120.23583866118,\n" +
                "      \"pos_y\": 30.128596696851\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710210000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710210000,\n" +
                "      \"cameraId\": \"330109179900363560\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139652762414\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710220000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710220000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710220000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710230000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710230000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710230000,\n" +
                "      \"cameraId\": \"330109179900363660\",\n" +
                "      \"pos_x\": 120.24546242712,\n" +
                "      \"pos_y\": 30.139572296144\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594710380000,\n" +
                "      \"cameraId\": \"330109179900369260\",\n" +
                "      \"pos_x\": 120.24674988745,\n" +
                "      \"pos_y\": 30.1473185157779\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594711620000,\n" +
                "      \"cameraId\": \"330109179900293560\",\n" +
                "      \"pos_x\": 120.273077176169,\n" +
                "      \"pos_y\": 30.154115803518\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594711670000,\n" +
                "      \"cameraId\": \"330109179900366660\",\n" +
                "      \"pos_x\": 120.28026089508,\n" +
                "      \"pos_y\": 30.154222823188\n" +
                "    }\n" +
                "  ],\n" +
                "  \"浙A5928P\": [\n" +
                "    {\n" +
                "      \"timestamp\": 1594694180000,\n" +
                "      \"cameraId\": \"330109179900711160\",\n" +
                "      \"pos_x\": 120.24986661435,\n" +
                "      \"pos_y\": 30.215570006371\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594694180000,\n" +
                "      \"cameraId\": \"330109179900711160\",\n" +
                "      \"pos_x\": 120.24986661435,\n" +
                "      \"pos_y\": 30.215570006371\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594737150000,\n" +
                "      \"cameraId\": \"330109179900424360\",\n" +
                "      \"pos_x\": 120.23104823587,\n" +
                "      \"pos_y\": 30.196901831627\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594737480000,\n" +
                "      \"cameraId\": \"330109179900365960\",\n" +
                "      \"pos_x\": 120.2389312482,\n" +
                "      \"pos_y\": 30.213142607213\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594737530000,\n" +
                "      \"cameraId\": \"330109179900715460\",\n" +
                "      \"pos_x\": 120.23908145191,\n" +
                "      \"pos_y\": 30.2155780529979\n" +
                "    }\n" +
                "  ],\n" +
                "  \"浙A091KD\": [\n" +
                "    {\n" +
                "      \"timestamp\": 1594700130000,\n" +
                "      \"cameraId\": \"330109179900728360\",\n" +
                "      \"pos_x\": 120.34944957439,\n" +
                "      \"pos_y\": 30.199260440623\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594700710000,\n" +
                "      \"cameraId\": \"330109179900140460\",\n" +
                "      \"pos_x\": 120.30530787466,\n" +
                "      \"pos_y\": 30.204980645177\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364560\",\n" +
                "      \"pos_x\": 120.28096587475,\n" +
                "      \"pos_y\": 30.162504389907\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364560\",\n" +
                "      \"pos_x\": 120.28096587475,\n" +
                "      \"pos_y\": 30.162504389907\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364560\",\n" +
                "      \"pos_x\": 120.28096587475,\n" +
                "      \"pos_y\": 30.162504389907\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364860\",\n" +
                "      \"pos_x\": 120.28096051033,\n" +
                "      \"pos_y\": 30.162493661071\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364560\",\n" +
                "      \"pos_x\": 120.28096587475,\n" +
                "      \"pos_y\": 30.162504389907\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703820000,\n" +
                "      \"cameraId\": \"330109179900364560\",\n" +
                "      \"pos_x\": 120.28096587475,\n" +
                "      \"pos_y\": 30.162504389907\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703860000,\n" +
                "      \"cameraId\": \"330109179900364160\",\n" +
                "      \"pos_x\": 120.281024883349,\n" +
                "      \"pos_y\": 30.158448889877\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594703860000,\n" +
                "      \"cameraId\": \"330109179900364160\",\n" +
                "      \"pos_x\": 120.281024883349,\n" +
                "      \"pos_y\": 30.158448889877\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704070000,\n" +
                "      \"cameraId\": \"330109179900371860\",\n" +
                "      \"pos_x\": 120.27954257486,\n" +
                "      \"pos_y\": 30.1474043464659\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704070000,\n" +
                "      \"cameraId\": \"330109179900371860\",\n" +
                "      \"pos_x\": 120.27954257486,\n" +
                "      \"pos_y\": 30.1474043464659\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704120000,\n" +
                "      \"cameraId\": \"330109179900371360\",\n" +
                "      \"pos_x\": 120.27564680216,\n" +
                "      \"pos_y\": 30.147527400702\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704120000,\n" +
                "      \"cameraId\": \"330109179900371360\",\n" +
                "      \"pos_x\": 120.27564680216,\n" +
                "      \"pos_y\": 30.147527400702\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594704130000,\n" +
                "      \"cameraId\": \"330109179900371560\",\n" +
                "      \"pos_x\": 120.2752801808,\n" +
                "      \"pos_y\": 30.147533129161\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594711260000,\n" +
                "      \"cameraId\": \"330109179900365260\",\n" +
                "      \"pos_x\": 120.268274234039,\n" +
                "      \"pos_y\": 30.146790631101\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594711280000,\n" +
                "      \"cameraId\": \"330109179900368260\",\n" +
                "      \"pos_x\": 120.26824549546,\n" +
                "      \"pos_y\": 30.14761042958\n" +
                "    },\n" +
                "    {\n" +
                "      \"timestamp\": 1594713680000,\n" +
                "      \"cameraId\": \"330133330109520014851286\",\n" +
                "      \"pos_x\": 120.26491623423,\n" +
                "      \"pos_y\": 30.2197291986369\n" +
                "    }\n" +
                "  ]\n" +
                "}";
        JSONObject jsonObject = JSONObject.parseObject(json);
        Map<String, Object> innerMap = jsonObject.getInnerMap();
        for (String key : innerMap.keySet()) {
            String value = innerMap.get(key).toString();
            List<Attribute> attributes = JSON.parseArray(value, Attribute.class);
            Path path = new Path(key, attributes);
            System.out.println(path);
            System.out.println("=============================================");
        }
    }

}
